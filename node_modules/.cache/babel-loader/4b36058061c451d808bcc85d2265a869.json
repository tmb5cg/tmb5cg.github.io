{"ast":null,"code":"var _jsxFileName = \"/Users/tucker/Documents/GitHub/tmb5cg.github.io/src/components/FreeTimeFinder/FreeTimeFinder.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport { useState, useEffect } from 'react';\nimport GitHubIcon from '@material-ui/icons/GitHub';\nimport LinkedInIcon from '@material-ui/icons/LinkedIn';\nimport { about } from '../../portfolio';\nimport { ftf } from '../../portfolio';\nimport './FreeTimeFinder.css';\n/* exported gapiLoaded */\n\n/* exported gisLoaded */\n\n/* exported handleAuthClick */\n\n/* exported handleSignoutClick */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst FreeTimeFinder = () => {\n  const {\n    title,\n    description,\n    subhead,\n    socidal\n  } = ftf; // TODO(developer): Set to client ID and API key from the Developer Console\n\n  const CLIENT_ID = '152166915524-g9q80tsfovgpek2bsgi8hhvbm7074nh6.apps.googleusercontent.com';\n  const API_KEY = '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'; // Discovery doc URL for APIs used by the quickstart\n\n  const DISCOVERY_DOC = 'https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest'; // Authorization scopes required by the API; multiple scopes can be\n  // included, separated by spaces.\n\n  const SCOPES = 'https://www.googleapis.com/auth/calendar.readonly';\n  let tokenClient;\n  let gapiInited = false;\n  let gisInited = false;\n  /**\n   * Callback after api.js is loaded.\n   */\n\n  function gapiLoaded() {\n    gapi.load('client', intializeGapiClient);\n  }\n  /**\n   * Callback after the API client is loaded. Loads the\n   * discovery doc to initialize the API.\n   */\n\n\n  async function intializeGapiClient() {\n    await gapi.client.init({\n      apiKey: API_KEY,\n      discoveryDocs: [DISCOVERY_DOC]\n    });\n    gapiInited = true;\n    maybeEnableButtons();\n  }\n  /**\n   * Callback after Google Identity Services are loaded.\n   */\n\n\n  function gisLoaded() {\n    tokenClient = google.accounts.oauth2.initTokenClient({\n      client_id: CLIENT_ID,\n      scope: SCOPES,\n      callback: '' // defined later\n\n    });\n    gisInited = true;\n    maybeEnableButtons();\n  }\n  /**\n   * Enables user interaction after all libraries are loaded.\n   */\n\n\n  function maybeEnableButtons() {\n    if (gapiInited && gisInited) {\n      document.getElementById('authorize_button').style.visibility = 'visible';\n    }\n  }\n  /**\n   *  Sign in the user upon button click.\n   */\n\n\n  function handleAuthClick() {\n    tokenClient.callback = async resp => {\n      if (resp.error !== undefined) {\n        throw resp;\n      }\n\n      document.getElementById('signout_button').style.visibility = 'visible';\n      document.getElementById('authorize_button').innerText = 'Refresh';\n      await listUpcomingEvents();\n    };\n\n    if (gapi.client.getToken() === null) {\n      // Prompt the user to select a Google Account and ask for consent to share their data\n      // when establishing a new session.\n      tokenClient.requestAccessToken({\n        prompt: 'consent'\n      });\n    } else {\n      // Skip display of account chooser and consent dialog for an existing session.\n      tokenClient.requestAccessToken({\n        prompt: ''\n      });\n    }\n  }\n  /**\n   *  Sign out the user upon button click.\n   */\n\n\n  function handleSignoutClick() {\n    const token = gapi.client.getToken();\n\n    if (token !== null) {\n      google.accounts.oauth2.revoke(token.access_token);\n      gapi.client.setToken('');\n      document.getElementById('content').innerText = '';\n      document.getElementById('authorize_button').innerText = 'Authorize';\n      document.getElementById('signout_button').style.visibility = 'hidden';\n    }\n  }\n  /**\n   * Print the summary and start datetime/date of the next ten events in\n   * the authorized user's calendar. If no events are found an\n   * appropriate message is printed.\n   */\n\n\n  async function listUpcomingEvents() {\n    let response;\n\n    try {\n      const request = {\n        'calendarId': 'primary',\n        'timeMin': new Date().toISOString(),\n        'showDeleted': false,\n        'singleEvents': true,\n        'maxResults': 10,\n        'orderBy': 'startTime'\n      };\n      response = await gapi.client.calendar.events.list(request);\n    } catch (err) {\n      document.getElementById('content').innerText = err.message;\n      return;\n    }\n\n    const events = response.result.items;\n\n    if (!events || events.length == 0) {\n      document.getElementById('content').innerText = 'No events found.';\n      return;\n    } // Flatten to string to display\n\n\n    const output = events.reduce((str, event) => `${str}${event.summary} (${event.start.dateTime || event.start.date})\\n`, 'Events:\\n');\n    document.getElementById('content').innerText = output;\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"about center\",\n    children: [/*#__PURE__*/_jsxDEV(\"script\", {\n      async: true,\n      defer: true,\n      src: \"https://apis.google.com/js/api.js\",\n      onLoad: \"gapiLoaded()\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"script\", {\n      async: true,\n      defer: true,\n      src: \"https://accounts.google.com/gsi/client\",\n      onLoad: \"gisLoaded()\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\" \", title, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"about__role\",\n      children: [subhead, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"about__desc\",\n      children: description && description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      id: \"authorize_button\",\n      onClick: \"handleAuthClick()\",\n      children: \"Authorize\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      id: \"signout_button\",\n      onClick: \"handleSignoutClick()\",\n      children: \"Sign Out\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n      id: \"content\",\n      style: \"white-space: pre-wrap;\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 150,\n    columnNumber: 5\n  }, this);\n};\n\n_c = FreeTimeFinder;\nexport default FreeTimeFinder;\n\nvar _c;\n\n$RefreshReg$(_c, \"FreeTimeFinder\");","map":{"version":3,"names":["React","axios","useState","useEffect","GitHubIcon","LinkedInIcon","about","ftf","FreeTimeFinder","title","description","subhead","socidal","CLIENT_ID","API_KEY","DISCOVERY_DOC","SCOPES","tokenClient","gapiInited","gisInited","gapiLoaded","gapi","load","intializeGapiClient","client","init","apiKey","discoveryDocs","maybeEnableButtons","gisLoaded","google","accounts","oauth2","initTokenClient","client_id","scope","callback","document","getElementById","style","visibility","handleAuthClick","resp","error","undefined","innerText","listUpcomingEvents","getToken","requestAccessToken","prompt","handleSignoutClick","token","revoke","access_token","setToken","response","request","Date","toISOString","calendar","events","list","err","message","result","items","length","output","reduce","str","event","summary","start","dateTime","date"],"sources":["/Users/tucker/Documents/GitHub/tmb5cg.github.io/src/components/FreeTimeFinder/FreeTimeFinder.js"],"sourcesContent":["import React from \"react\"\nimport axios from \"axios\";\nimport { useState, useEffect} from 'react'\nimport GitHubIcon from '@material-ui/icons/GitHub'\nimport LinkedInIcon from '@material-ui/icons/LinkedIn'\nimport { about } from '../../portfolio'\nimport { ftf } from '../../portfolio'\nimport './FreeTimeFinder.css'\n\n/* exported gapiLoaded */\n/* exported gisLoaded */\n/* exported handleAuthClick */\n/* exported handleSignoutClick */\n\n\nconst FreeTimeFinder = () => {\n  const { title, description, subhead, socidal } = ftf\n// TODO(developer): Set to client ID and API key from the Developer Console\nconst CLIENT_ID = '152166915524-g9q80tsfovgpek2bsgi8hhvbm7074nh6.apps.googleusercontent.com';\nconst API_KEY = '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';\n\n// Discovery doc URL for APIs used by the quickstart\nconst DISCOVERY_DOC = 'https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest';\n\n// Authorization scopes required by the API; multiple scopes can be\n// included, separated by spaces.\nconst SCOPES = 'https://www.googleapis.com/auth/calendar.readonly';\n\nlet tokenClient;\nlet gapiInited = false;\nlet gisInited = false;\n\n\n/**\n * Callback after api.js is loaded.\n */\nfunction gapiLoaded() {\n  gapi.load('client', intializeGapiClient);\n}\n\n/**\n * Callback after the API client is loaded. Loads the\n * discovery doc to initialize the API.\n */\nasync function intializeGapiClient() {\n  await gapi.client.init({\n    apiKey: API_KEY,\n    discoveryDocs: [DISCOVERY_DOC],\n  });\n  gapiInited = true;\n  maybeEnableButtons();\n}\n\n/**\n * Callback after Google Identity Services are loaded.\n */\nfunction gisLoaded() {\n  tokenClient = google.accounts.oauth2.initTokenClient({\n    client_id: CLIENT_ID,\n    scope: SCOPES,\n    callback: '', // defined later\n  });\n  gisInited = true;\n  maybeEnableButtons();\n}\n\n/**\n * Enables user interaction after all libraries are loaded.\n */\nfunction maybeEnableButtons() {\n  if (gapiInited && gisInited) {\n    document.getElementById('authorize_button').style.visibility = 'visible';\n  }\n}\n\n/**\n *  Sign in the user upon button click.\n */\nfunction handleAuthClick() {\n  tokenClient.callback = async (resp) => {\n    if (resp.error !== undefined) {\n      throw (resp);\n    }\n    document.getElementById('signout_button').style.visibility = 'visible';\n    document.getElementById('authorize_button').innerText = 'Refresh';\n    await listUpcomingEvents();\n  };\n\n  if (gapi.client.getToken() === null) {\n    // Prompt the user to select a Google Account and ask for consent to share their data\n    // when establishing a new session.\n    tokenClient.requestAccessToken({prompt: 'consent'});\n  } else {\n    // Skip display of account chooser and consent dialog for an existing session.\n    tokenClient.requestAccessToken({prompt: ''});\n  }\n}\n\n/**\n *  Sign out the user upon button click.\n */\nfunction handleSignoutClick() {\n  const token = gapi.client.getToken();\n  if (token !== null) {\n    google.accounts.oauth2.revoke(token.access_token);\n    gapi.client.setToken('');\n    document.getElementById('content').innerText = '';\n    document.getElementById('authorize_button').innerText = 'Authorize';\n    document.getElementById('signout_button').style.visibility = 'hidden';\n  }\n}\n\n/**\n * Print the summary and start datetime/date of the next ten events in\n * the authorized user's calendar. If no events are found an\n * appropriate message is printed.\n */\nasync function listUpcomingEvents() {\n  let response;\n  try {\n    const request = {\n      'calendarId': 'primary',\n      'timeMin': (new Date()).toISOString(),\n      'showDeleted': false,\n      'singleEvents': true,\n      'maxResults': 10,\n      'orderBy': 'startTime',\n    };\n    response = await gapi.client.calendar.events.list(request);\n  } catch (err) {\n    document.getElementById('content').innerText = err.message;\n    return;\n  }\n\n  const events = response.result.items;\n  if (!events || events.length == 0) {\n    document.getElementById('content').innerText = 'No events found.';\n    return;\n  }\n  // Flatten to string to display\n  const output = events.reduce(\n      (str, event) => `${str}${event.summary} (${event.start.dateTime || event.start.date})\\n`,\n      'Events:\\n');\n  document.getElementById('content').innerText = output;\n}\n\n\n  return (\n    \n    <div className='about center'>\n\n    \n      <script async defer src=\"https://apis.google.com/js/api.js\" onLoad=\"gapiLoaded()\"></script>\n      <script async defer src=\"https://accounts.google.com/gsi/client\" onLoad=\"gisLoaded()\"></script>\n\n\n      <h1> {title} </h1>\n      <h2 className='about__role'>{subhead} </h2>\n      <p className='about__desc'>{description && description}</p>\n\n\n    <button id=\"authorize_button\" onClick=\"handleAuthClick()\">Authorize</button>\n    <button id=\"signout_button\" onClick=\"handleSignoutClick()\">Sign Out</button>\n\n    <pre id=\"content\" style=\"white-space: pre-wrap;\"></pre>\n\n    </div>\n  )\n}\n\nexport default FreeTimeFinder\n\n   "],"mappings":"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"},"metadata":{},"sourceType":"module"}