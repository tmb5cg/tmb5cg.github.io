{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resolveRequestDocument = void 0;\n\nvar graphql_1 = require(\"graphql\");\n/**\n * helpers\n */\n\n\nfunction extractOperationName(document) {\n  var _a;\n\n  var operationName = undefined;\n  var operationDefinitions = document.definitions.filter(function (definition) {\n    return definition.kind === 'OperationDefinition';\n  });\n\n  if (operationDefinitions.length === 1) {\n    operationName = (_a = operationDefinitions[0].name) === null || _a === void 0 ? void 0 : _a.value;\n  }\n\n  return operationName;\n}\n\nfunction resolveRequestDocument(document) {\n  if (typeof document === 'string') {\n    var operationName_1 = undefined;\n\n    try {\n      var parsedDocument = (0, graphql_1.parse)(document);\n      operationName_1 = extractOperationName(parsedDocument);\n    } catch (err) {// Failed parsing the document, the operationName will be undefined\n    }\n\n    return {\n      query: document,\n      operationName: operationName_1\n    };\n  }\n\n  var operationName = extractOperationName(document);\n  return {\n    query: (0, graphql_1.print)(document),\n    operationName: operationName\n  };\n}\n\nexports.resolveRequestDocument = resolveRequestDocument;","map":{"version":3,"mappings":";;;;;;;AAAA;AAGA;;;;;AAIA,SAASA,oBAAT,CAA8BC,QAA9B,EAAoD;;;EAClD,IAAIC,aAAa,GAAGC,SAApB;EAEA,IAAMC,oBAAoB,GAAGH,QAAQ,CAACI,WAAT,CAAqBC,MAArB,CAC3B,UAACC,UAAD,EAAW;IAAK,iBAAU,CAACC,IAAX,KAAoB,qBAApB;EAAyC,CAD9B,CAA7B;;EAIA,IAAIJ,oBAAoB,CAACK,MAArB,KAAgC,CAApC,EAAuC;IACrCP,aAAa,GAAG,0BAAoB,CAAC,CAAD,CAApB,CAAwBQ,IAAxB,MAA4B,IAA5B,IAA4BC,aAA5B,GAA4B,MAA5B,GAA4BA,GAAEC,KAA9C;EACD;;EAED,OAAOV,aAAP;AACD;;AAED,SAAgBW,sBAAhB,CAAuCZ,QAAvC,EAAgE;EAC9D,IAAI,OAAOA,QAAP,KAAoB,QAAxB,EAAkC;IAChC,IAAIa,eAAa,GAAGX,SAApB;;IAEA,IAAI;MACF,IAAMY,cAAc,GAAG,qBAAMd,QAAN,CAAvB;MACAa,eAAa,GAAGd,oBAAoB,CAACe,cAAD,CAApC;IACD,CAHD,CAGE,OAAOC,GAAP,EAAY,CACZ;IACD;;IAED,OAAO;MAAEC,KAAK,EAAEhB,QAAT;MAAmBC,aAAa;IAAhC,CAAP;EACD;;EAED,IAAMA,aAAa,GAAGF,oBAAoB,CAACC,QAAD,CAA1C;EAEA,OAAO;IAAEgB,KAAK,EAAE,qBAAMhB,QAAN,CAAT;IAA0BC,aAAa;EAAvC,CAAP;AACD;;AAjBDgB","names":["extractOperationName","document","operationName","undefined","operationDefinitions","definitions","filter","definition","kind","length","name","_a","value","resolveRequestDocument","operationName_1","parsedDocument","err","query","exports"],"sourceRoot":"","sources":["../src/resolveRequestDocument.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}