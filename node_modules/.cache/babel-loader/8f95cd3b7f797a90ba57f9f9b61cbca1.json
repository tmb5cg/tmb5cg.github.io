{"ast":null,"code":"import _slicedToArray from\"/Users/tucker/Documents/GitHub/photoscan_splitter/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useRef,useState}from'react';import{Link,useLocation}from'react-router-dom';import'./sidebar.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var sidebarNavItems=[{display:'Home',icon:/*#__PURE__*/_jsx(\"i\",{className:\"bx bx-home\"}),to:'/',section:''},{display:'Upload Scan',icon:/*#__PURE__*/_jsx(\"i\",{className:\"bx bx-star\"}),to:'/upload',section:'upload'},{display:'About',icon:/*#__PURE__*/_jsx(\"i\",{className:\"bx bx-user\"}),to:'/about',section:'about'},{display:'Contact',icon:/*#__PURE__*/_jsx(\"i\",{className:\"bx bx-receipt\"}),to:'/contact',section:'contact'}];var Sidebar=function Sidebar(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),activeIndex=_useState2[0],setActiveIndex=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),stepHeight=_useState4[0],setStepHeight=_useState4[1];var sidebarRef=useRef();var indicatorRef=useRef();var location=useLocation();useEffect(function(){setTimeout(function(){var sidebarItem=sidebarRef.current.querySelector('.sidebar__menu__item');indicatorRef.current.style.height=\"\".concat(sidebarItem.clientHeight,\"px\");setStepHeight(sidebarItem.clientHeight);},50);},[]);// change active index\nuseEffect(function(){var curPath=window.location.pathname.split('/')[1];var activeItem=sidebarNavItems.findIndex(function(item){return item.section===curPath;});setActiveIndex(curPath.length===0?0:activeItem);},[location]);return/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sidebar__logo\",children:\"AutoCropper\"}),/*#__PURE__*/_jsxs(\"div\",{ref:sidebarRef,className:\"sidebar__menu\",children:[/*#__PURE__*/_jsx(\"div\",{ref:indicatorRef,className:\"sidebar__menu__indicator\",style:{transform:\"translateX(-50%) translateY(\".concat(activeIndex*stepHeight,\"px)\")}}),sidebarNavItems.map(function(item,index){return/*#__PURE__*/_jsx(Link,{to:item.to,children:/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar__menu__item \".concat(activeIndex===index?'active':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"sidebar__menu__item__icon\",children:item.icon}),/*#__PURE__*/_jsx(\"div\",{className:\"sidebar__menu__item__text\",children:item.display})]})},index);})]})]});};export default Sidebar;","map":{"version":3,"names":["useEffect","useRef","useState","Link","useLocation","sidebarNavItems","display","icon","to","section","Sidebar","activeIndex","setActiveIndex","stepHeight","setStepHeight","sidebarRef","indicatorRef","location","setTimeout","sidebarItem","current","querySelector","style","height","clientHeight","curPath","window","pathname","split","activeItem","findIndex","item","length","transform","map","index"],"sources":["/Users/tucker/Documents/GitHub/photoscan_splitter/client/src/components/sidebar/Sidebar.jsx"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport './sidebar.scss';\n\nconst sidebarNavItems = [\n    {\n        display: 'Home',\n        icon: <i className='bx bx-home'></i>,\n        to: '/',\n        section: ''\n    },\n    {\n        display: 'Upload Scan',\n        icon: <i className='bx bx-star'></i>,\n        to: '/upload',\n        section: 'upload'\n    },\n    {\n        display: 'About',\n        icon: <i className='bx bx-user'></i>,\n        to: '/about',\n        section: 'about'\n    },\n    {\n        display: 'Contact',\n        icon: <i className='bx bx-receipt'></i>,\n        to: '/contact',\n        section: 'contact'\n    },\n]\n\nconst Sidebar = () => {\n    const [activeIndex, setActiveIndex] = useState(0);\n    const [stepHeight, setStepHeight] = useState(0);\n    const sidebarRef = useRef();\n    const indicatorRef = useRef();\n    const location = useLocation();\n\n    useEffect(() => {\n        setTimeout(() => {\n            const sidebarItem = sidebarRef.current.querySelector('.sidebar__menu__item');\n            indicatorRef.current.style.height = `${sidebarItem.clientHeight}px`;\n            setStepHeight(sidebarItem.clientHeight);\n        }, 50);\n    }, []);\n\n    // change active index\n    useEffect(() => {\n        const curPath = window.location.pathname.split('/')[1];\n        const activeItem = sidebarNavItems.findIndex(item => item.section === curPath);\n        setActiveIndex(curPath.length === 0 ? 0 : activeItem);\n    }, [location]);\n\n    return <div className='sidebar'>\n        <div className=\"sidebar__logo\">\n            AutoCropper\n        </div>\n        <div ref={sidebarRef} className=\"sidebar__menu\">\n            <div\n                ref={indicatorRef}\n                className=\"sidebar__menu__indicator\"\n                style={{\n                    transform: `translateX(-50%) translateY(${activeIndex * stepHeight}px)`\n                }}\n            ></div>\n            {\n                sidebarNavItems.map((item, index) => (\n                    <Link to={item.to} key={index}>\n                        <div className={`sidebar__menu__item ${activeIndex === index ? 'active' : ''}`}>\n                            <div className=\"sidebar__menu__item__icon\">\n                                {item.icon}\n                            </div>\n                            <div className=\"sidebar__menu__item__text\">\n                                {item.display}\n                            </div>\n                        </div>\n                    </Link>\n                ))\n            }\n        </div>\n    </div>;\n};\n\nexport default Sidebar;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}