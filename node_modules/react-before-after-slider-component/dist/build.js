!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.ReactBeforeAfterSliderComponent=t(require("react")):e.ReactBeforeAfterSliderComponent=t(e.react)}(this,(function(e){return(()=>{"use strict";var t={297:t=>{t.exports=e}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var o={};return(()=>{r.d(o,{default:()=>c});var e,t=r(297),n=r.n(t),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(e,t){return e>t?t:e<0?0:e}function c(r){var o=r.firstImage,c=r.secondImage,f=r.className,u=r.withResizeFeel,s=void 0===u||u,l=r.currentPercentPosition,d=r.onVisible,m=r.onReady,v=r.onChangePercentPosition,p=r.delimiterColor,E=r.feelsOnlyTheDelimiter,g=void 0!==E&&E,b=["before-after-slider"];f&&b.push(f);var h=(0,t.useRef)(null),y=(0,t.useState)(null),w=y[0],O=y[1],L=(0,t.useState)(l||50),_=L[0],x=L[1],S=(0,t.useState)(e.DEFAULT),R=S[0],j=S[1],C=function(e,n,r){var o=(0,t.useState)(!1),i=o[0],a=o[1],c=(0,t.useState)(0),f=c[0],u=c[1];return(0,t.useEffect)((function(){!i&&2===f&&e&&n.current&&a(!0)}),[f,e,i,n.current]),(0,t.useEffect)((function(){i&&r&&r()}),[i]),{onImageLoad:function(){u(f+1)},isReady:i}}(w,h,m),M=C.onImageLoad,T=C.isReady,N=(0,t.useState)({top:0,left:0}),P=N[0],I=N[1],U=(0,t.useState)(d&&"undefined"!=typeof window&&Boolean(window.IntersectionObserver)?new IntersectionObserver((function(e){U&&d&&e.forEach((function(e){e.intersectionRatio>.95&&(U.disconnect(),d())}))}),{threshold:[0,.95]}):null)[0];(0,t.useEffect)((function(){if(U){if(!T)return;U.observe(h.current)}}),[T]),(0,t.useEffect)((function(){l&&w&&x(a(l,w))}),[l,w]);var A=function(){if(h.current){var e=h.current.offsetWidth;O(e)}},B=function(){j(e.DEFAULT)};!function(e,n){(0,t.useEffect)((function(){return e(),document.addEventListener("click",n),function(){document.removeEventListener("click",n)}}),[])}(A,B);var D=w?{width:w+"px"}:void 0,F={width:_+"%"},k={backgroundColor:p},z={left:_+"%",backgroundColor:p},V=function(){!function(){if(h.current){var e=h.current.getBoundingClientRect();I({top:e.top+pageYOffset,left:e.left+pageXOffset})}}(),j(e.MOVE)},q=function(t){if(R===e.MOVE){if(!w)return;var n=a(t.pageX-P.left,w)/w*100;v?v(n):x(n)}};!function(e,n){(0,t.useEffect)((function(){return n&&window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[])}(A,s);var X={onMouseDown:V,onTouchStart:V};return n().createElement("div",i({ref:h,className:b.join(" "),onMouseMove:function(e){return q(e)},onTouchMove:function(e){q(e.touches[0])},onTouchEnd:B,onTouchCancel:B},g?{}:X),n().createElement("img",{src:o.imageUrl,className:"before-after-slider__size-fix-img",onLoad:A}),Boolean(w)&&n().createElement(n().Fragment,null,n().createElement("div",{className:"before-after-slider__first-photo-container"},n().createElement("img",{style:D,src:o.imageUrl,onLoad:M,draggable:!1,alt:o.alt})),n().createElement("div",{className:"before-after-slider__second-photo-container",style:F},n().createElement("img",{style:D,src:c.imageUrl,onLoad:M,draggable:!1,alt:o.alt})),n().createElement("div",i({className:"before-after-slider__delimiter",style:z},g?X:{}),n().createElement("div",null,n().createElement("div",{className:"before-after-slider__delimiter-icon",style:k})))))}!function(e){e.MOVE="move",e.DEFAULT="default"}(e||(e={}))})(),o.default})()}));